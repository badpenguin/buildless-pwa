<!DOCTYPE html>
<html lang="it">
<head>
	<meta charset="utf-8">
	<title>Preact buildless boilerplate by Antonio Gallo (AGX / Bad Penguin)</title>
	<meta name="viewport"
	      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="description"
	      content="This is a boilerplate for a buildless Preact + Signal + HTM Web App.">
	<meta name="theme-color" content="#9B2975">
	<meta name="format-detection" content="telephone=no">
	<meta name="msapplication-tap-highlight" content="no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-title" content="Web App Title">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta http-equiv="x-ua-compatible" content="IE=Edge">

	<!-- Configure Your Icons Here and your PWA settings
	<link rel="manifest" href="/manifest.json">
	<link rel="icon" type="image/x-icon" href="/favicon.ico">
	<link rel="apple-touch-icon" sizes="180x180" href="/assets/ios/apple-touch-icon-180.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/assets/ios/apple-touch-icon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/assets/ios/apple-touch-icon-180.png">
	<link rel="apple-touch-icon" sizes="167x167" href="/assets/ios/apple-touch-icon-167.png">
	-->

	<style>
		#preload {
			color: #6d1153;
			background: #fff;
			padding: 1rem;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			text-align: center;
			font-family: sans-serif;
			font-size: 18px;
			line-height: 1.7;
		}

		#preload img {
			display: block;
			margin-bottom: 2rem;
		}

		#preload p, #preload h1 {
			color: #333;
		}

		#preload a {
			color: #FF1978;
		}
	</style>

	<!-- Preload your fonts here
	<link rel="preload" as="style" href="/assets/fonts/roboto-v30-latin/load.css"/>
	<link rel="stylesheet" href="/assets/fonts/roboto-v30-latin/load.css"/>
	-->
	<!-- Customize with your css -->
	<link rel="stylesheet" href="/app/dist/vanilla.min.css"/>
	<link rel="stylesheet" href="/css/index.css"/>

	<!-- polyfill ES Modules -->
	<script async src="https://ga.jspm.io/npm:es-module-shims@1.7.3/dist/es-module-shims.js"></script>

	<!-- Abort if not supported -->
	<script>
		if (!'noModule' in HTMLScriptElement.prototype) {
			alert('Your browser its too old, it does not support "noModule".');
		}
		if (!HTMLScriptElement.supports('importmap')) {
			alert('Your browser its too old, it does not support "importmap".');
		}
		if (!'fetch' in window) {
			alert('Your browser its too old, it does not support "fetch".');
		}
	</script>

	<!-- Load my Vanilla JS library -->
	<script src="/app/dist/vanilla.min.js"></script>

	<!--
	standalone.js contains:
	- preact + preact/hooks: 10.15.1
	- @preact/signals + @preact/signals-core: 1.1.3
	- htm: 3.1.1
	-->
	<script type="importmap">
      {
        "imports": {
          "preact": "/app/dist/standalone.js",
          "preact/hooks": "/app/dist/standalone.js",
		  "htm": "/app/dist/standalone.js",
          "@preact/signals": "/app/dist/standalone.js",
          "@preact/signals-core": "/app/dist/standalone.js",
          "preact-router": "/app/dist/preact-router.module.js"
        }
      }

	</script>

	<!-- bootstrap your apo -->
	<script type="module">
		import {h, render} from 'preact';
		import {MainApp} from '/app/main.js';

		window.onload = function() {
			console.log('* onload');
			const app = h(MainApp);
			render(app, document.getElementById("main"));
		}
	</script>

</head>
<body>
<!-- splash screen -->
<div id="preload">
	<h1>Loading...</h1>
	<p>For more info please visit: <a href="https://www.antoniogallo.it/">www.antoniogallo.it</a></p>
</div>
<!-- our main component -->
<div id="main"></div>
</body>
</html>